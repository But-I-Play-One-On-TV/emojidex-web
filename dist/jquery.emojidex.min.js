/*
 *  jQuery Emojidex - v0.1.0
 *  emojidex coffee plugin for jQuery/Zepto and compatible
 *  https://github.com/Genshin/emojidex-coffee#emojidex-coffee
 *
 *  Made by Genshin
 *  Under LGPL License
 */
(function(){!function(a){var b,c,d;return d="emojidex",c={},b=function(){function b(b,e){this.element=b,this.options=a.extend({},c,e),this._defaults=c,this._name=d,this.loadEmojidexJSON(this.element,this.options),this.setEmojiarea(this.options)}return b.prototype.loadEmojidexJSON=function(c,d){return a.emojiarea.path=d.path_emoji_img,a.getJSON(d.path_emoji_json,function(a){return b.prototype.setEmojiIcon(a,c)})},b.prototype.setEmojiIcon=function(b,c){return a.emojiarea.icons=b,a.each(a(c),function(b,c){var d;return d=c.innerHTML.replace(/:[\-\w]+:/g,function(c){var d,e,f,g;g=c;for(d in a.emojiarea.icons)for(e=a.emojiarea.icons[d],b=0;b<e.length;){if(c=c.replace(/:/g,""),e[b].name===c){f=a.emojiarea.path||"",f.length&&"/"!==f.charAt(f.length-1)&&(f+="/"),g='<img src="'+f+c+'.svg" alt="'+c+'">';break}b++}return g}),a(c).empty().append(d)})},b.prototype.setEmojiarea=function(b){var c,d;return c=a(b.emojiarea.emojiarea_wysing.selector).emojiarea({wysiwyg:!0}),d=a(b.emojiarea.emojiarea_output_value.selector),a(b.emojiarea.emojiarea_planeText.selector).emojiarea({wysiwyg:!1}),c.on("change",function(){return d.text(a(this).val())}),c.trigger("change")},b}(),a.fn[d]=function(c){return this.each(function(){return a.data(this,"plugin_"+d)?void 0:a.data(this,"plugin_"+d,new b(this,c))})}}(jQuery,window,document)}).call(this);